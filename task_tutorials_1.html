<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Blockly for EUP</title>

  <link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.indigo-pink.min.css">
  <link rel="stylesheet" href="styles/tutorial.css">
  <link rel="stylesheet" href="styles/general.css">
  <script src="interpreter/acorn_interpreter.js"></script>
</head>
<body>

  <div id="tutorial_controls" style="position: absolute; margin-left: 80%; margin-top: 1%;">
      <button id="nextButton"  title="Next tutorial" onclick="nextTutorialListener(0)">
      Next
      </button><br><br><br>
      <button id="backButton"  title="Back tutorial" onclick="nextTutorialListener(1)">
      Back
      </button>
    </div>
    <div id='one_time_div' style="position: absolute; margin-top: 0px; margin-left:55%; float: right;"></div>
    <div id='img_div' style="position: absolute; margin-top: 0px; margin-left:52%; float: right;"></div>
      <div id='tutorial_text' style="position: absolute; display:inline-block;width: 50%; font-size: 1.5vh; font-family:  Arial, sans-serif; margin-left: 20px; margin-top: 20px; float: left;">
        Welcome to the Robot Programming Tutorial! The goal of this tutorial is to familiarize you with the robot programming interface, so you can start creating custom behaviors for robotic tasks. Let's get started! <br/><b>Once you have completed each step, click on the <i>"Next"</i> button located at the top right to proceed with the tutorial.</b>
      </div>
      

  <div class="wrapper" style="top: 55%;">

    <div id="modal" class="modal">

      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header">
          <h3>Youâ€™ve completed the tutorial</h3>
        </div>
        <div class="modal-body">
          <p>Please return to the survey and enter the following code: <mark>TD4823</mark></p>
          <!-- <p>Note that once you click exit, this window will close, and you will not be able to access the code again</p> -->
        </div>
<!--         <button onclick="window.close()">
          Exit
        </button> -->
      </div>

    <p style="display: none;", id="code"></p>
    <p style="display: none;", id="start"></p>
    <p style="display: none;", id="end"></p>
    
    </div>

    <p id="code"></p>

    <div class="simulation">
        <div id="bedroom">
        <p id="room-txt"> bedroom </p>
      </div>
        <div id="kitchen">
        <p id="room-txt"> kitchen</p>
      </div>
        <div id="playroom">
          <p id="room-txt"> playroom</p>
      </div>

      <div id="robot">
        <img id="robot-img" src="assets/robot.png">
      </div>
      <div id="bear" style="visibility: hidden;">
        <img id="toy-img" src="assets/toy1.png">
      </div>
    </div>


    <div class="blockly-editor">
      <div id="controls">
        <!-- <div id="clock"> -->

        <!-- </div> -->
      <button class="run" id="runButton" onclick="toggleButton()" title="Makes the player do what the blocks say.">Run Program</button>
        <button id="doneButton" style="visibility: hidden;">I'm Done</button>
    </div>
      <div id="blocklyDiv">
      <xml id="toolbox" style="display: none;">
        <category name="Controls" style="display: none;" categorystyle="logic_category">
          <block type="if_then"></block>
          <block type="if_while_then"></block>
      </category>
      <category name="Actions" categorystyle="variable_category">
        <block type="drop_toy"></block>
        <block type="pick_up_toy"></block>
        <block type="to_room"></block>
        <block type="to_random_room"></block>
      </category>
      <category name="Events" categorystyle="list_category">
        <block type="out_of"></block>
        <block type="in_the"></block>
        <block type="hands_free"></block>
        <block type="hands_full"></block>
        <block type="start"></block>
      </category>
      <category name="States" categorystyle="event_category">
        <block type="e_out_of"></block>
        <block type="e_in_the"></block>
        <block type="e_toy_in_room"></block>
        <block type="e_toy_not_in_room"></block>
        <block type="e_hands_free"></block>
        <block type="e_hands_full"></block>
        <block type="and"></block>
      </category>
      <category name="Actions" categorystyle="variable_category">
        <block type="drop_toy"></block>
        <block type="pick_up_toy"></block>
        <block type="to_room"></block>
        <block type="to_random_room"></block>
      </category>
      <category name="Goal" categorystyle="event_category">
        <block type="e_out_of"></block>
        <block type="e_toy_in_room"></block>
        <block type="e_in_the"></block>
        <block type="e_toy_not_in_room"></block>
        <block type="e_hands_free"></block>
        <block type="e_hands_full"></block>
        <block type="and"></block>
      </category>
      <category name="States" categorystyle="logic_category">
        <block type="trigger_out_of"></block>
        <block type="trigger_in_the"></block>
        <block type="trigger_hands_full"></block>
        <block type="trigger_hands_free"></block>
        <block type="trigger_toy_in_room"></block>
      </category>
      <category name="Controls" style="display: none;" categorystyle="logic_category">
        <block type="controls_if"></block>
        <block type="controls_ifelse"></block>
        <block type="logic_boolean"></block>
        <block type="controls_whileUntil"></block>
    </category>
      </xml>
    </div>
  </div>
  </div>

  


  <script type="module">
    // import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-app.js";
    // import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-analytics.js";
    // import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-firestore.js";

    // const firebaseConfig = {
    //   apiKey: "%API_KEY%",
    //   authDomain: "eup-blockly.firebaseapp.com",
    //   projectId: "eup-blockly",
    //   storageBucket: "eup-blockly.appspot.com",
    //   messagingSenderId: "217753483766",
    //   appId: "%APP_ID%",
    //   measurementId: "G-9CXK0MCT41",
    // };

    // // Initialize Firebase
    // const app = initializeApp(firebaseConfig);

    // // Initialize Cloud Firestore and get a reference to the service
    // const db = getFirestore(app);

    // console.log(window.location.href);
    // const url = new URL(window.location.href);
    // // console.log(url.searchParams.get('STUDY_ID'));

    // // document.querySelector("#runButton").addEventListener("click", record);
    // document.querySelector("#doneButton").addEventListener("click", finalRecord);

    // async function record(){
    //     try {
    //       const timeElapsed = Date.now();
    //       const today = new Date(timeElapsed);
    //       const docRef = await addDoc(collection(db, "task_tutorial"), {
    //         study_id: url.searchParams.get('STUDY_ID'),
    //         prolific_pid: url.searchParams.get('PROLIFIC_PID'),
    //         session_id: url.searchParams.get('SESSION_ID'),
    //         timestamp: today.toISOString(),
    //         code: document.getElementById("code").innerHTML
    //       });
    //       console.log("Document written with ID: ", docRef.id);
    //     } catch (e) {
    //       console.error("Error adding document: ", e);
    //     }
    // }
  </script>

  <script src="https://unpkg.com/blockly"></script>
  <script src="scripts/obj.js"></script>
  <script src="scripts/game.js"></script>
  <script id="tap" src="scripts/tap_blocks.js"></script>
  <script id="rl" src="scripts/rl_blocks.js"></script>
  <script src="scripts/settings/task_tutorial.js"></script>
  <script src="scripts/run.js"></script>
  <script src="scripts/mdp.js"></script>
  <script src="scripts/rl.js"></script>
  
<!--   <script src="https://unpkg.com/blockly"></script>
  <script src="scripts/obj.js"></script>
  <script src="scripts/game.js"></script>
  <script id="tap" src="scripts/tap_blocks.js"></script>
  <script id="rl" src="scripts/rl_blocks.js"></script>
  <script src="scripts/settings/"></script>
  <script src="scripts/run.js"></script> -->

  <script type="text/javascript">
    var next_ctr = 0;
    var img_added = false;

    const params = new Proxy(new URLSearchParams(window.location.search), {
      get: (searchParams, prop) => searchParams.get(prop),
    });
    let value = params.format;


    var tutorial_texts = ["To begin, let's take a look at the environment our robot will be operating in. The interface on the left displays a visual representation of three rooms in a house: the bedroom, kitchen, and playroom. This is where the robot will be navigating and performing its tasks.<br><br> Click <b>Next</b> to proceed",
     "The right half of the interface is where you can program the robot. <br><br> Click <b>Next</b> to proceed",
     "The robot is designed to sense and react based on the rules you provide in the programming interface. The robot performs actions by detecting changes, such as its arrival in the kitchen or its hands grasping objects. <br><br> Click <b>Next</b> to proceed",
     "Now, let's program to move the robot from the bedroom to the kitchen. To do this, <ol> <li> Click on the \"Controls\" tab and drag the piece labeled \"If then\" and attach it to the \"Rules\" block found in the programming interface.</li> <li> Next, click on the \"Events\" tab and drag the piece labeled \"program started\" and attach it to the \"If then\" block in the Rules block.</li> <li> Next, from the \"Actions\" tab, drag the \"Go to <b>kitchen</b>\" piece and attach it to the \"If program started\" piece. This will create a sequence of actions that will guide the robot to move from the bedroom to the kitchen. </li></ol> Click <b>Next</b> to proceed",
     "If your program looks like the image on the right,<br> then press the \"Run Program\" button to see your program running. Otherwise, move the blocks around to make them match the image and then run the program. <br><br>If the robot remains inactive after you click \"run program,\" double check that your program is correct. Click \"Stop Program\" to make any needed changes and then rerun the program.<br> <br>Click <b>Next</b> to proceed", 
     "Now let's work on a second task. In this task you will program the robot to move the toy from the playroom to the kitchen. To do this, <ol> <li>First remove the \"Go to kitchen\" piece added to the \"Rules\" block by dragging it to the trash bin found on the bottom right corner</li><li> Next, from the \"Actions\" tab, drag the \"Go to <b>kitchen</b>\" piece and attach it to the \"If program started \". Change the room from kitchen to <b>playroom</b> by clicking on the downward pointing triangle of the piece you just attached.</li></ol> Click <b>Next</b> to proceed",
      "Next, you need to program the robot to pick up the toy once it gets to the playroom. <ol start=3><li> you will need to have the robot check if it has reached the playroom before it tries to pick up the toy. To ensure that the robot executes each action appropriately, it is necessary to incorporate checks like these for every desired action. This is because the robot is designed to carry out actions only when it detects changes. Click on the Controls tab and drag the <b>\"if and then\"</b> piece and attach it to the Rules below the \"If program started\" block.</li></ol>Click <b>Next</b> to proceed","<ol start=4><li>Now drag the \"I arrived at the playroom\" piece from Events tab and attach it next to if. Then, click on the States tab and drag \"a toy is in the room\" and attach it next to <b>and</b>. This block would help the robot check if there is a toy in the bedroom as soon as it gets to the room. When this is satisfied, the robot needs to pick up the toy. For that, drag the \"pick up the toy\" piece from actions and attach it next to <b>then</b></li></ol> Click <b>Next</b> to proceed",
      "<ol start=5><li>Once that is done, you will need to have the robot check if it successfully picked up the toy before it moves to the kitchen. Click on the Controls tab and drag the \"if then\" piece and attach it to the Rules below the last two blocks. Then from the Events tab drag \"My hands became full\" attach it to the new \"if then\" piece. This piece helps the robot check if it is holding a toy.</li>\
      <li>Click on the Actions tab and drag the \"go to the kitchen\" action. and place it inside the newly added if block. This will finalize the action to be performed once the toy is picked up.</li></ol> Click <b>Next</b> to proceed.",
      "<ol start=7><li>Next you should program the robot to put down the toy as soon as it gets to the kitchen. To do that drag the \"if then\" block and attach it below the last added block. Then add a check for arriving at the kitchen: \"I have arrived at the kitchen\". Then add the \"put down the toy\" action.</li>\</ol> <br> Click <b>Next</b> to proceed",
     "If your program looks like the image on the right,<br> then press the \"Run Program\" button to see your program running. <br> Otherwise, move the blocks around to make them match the image and then run the program. <br> Click <b>Next</b> to proceed"
    ];

    var tutorial_texts_RL = ["The robot is designed to act based on a <b>GOAL</b> that you specify. In addition to the goal, the robot requires the user to specify all the possible <b>STATES</b> it can be in. States are the different situations or conditions that the robot can be in while performing tasks such as \"I am holding a toy.\", \"I am in the kitchen.\" etc. Finally,  the robot must be informed of the set of <b>ACTIONS</b> it needs to use to complete the task (e.g., pick up a toy, move to the kitchen). Once these are provided to it, the robot tries to find the most effective way to accomplish the task and then executes the determined course of action. <br> Click <b>Next</b> to proceed",
      "Now, let's program the robot to go to the kitchen. To achieve this: <ol><li>First, you need to specify the goal. Goals are certain states or combinations of states that we desire the robot to reach or achieve by the end of its execution. In the current task, the goal is to be in the kitchen. To specify that, click on the \"Goal\" tab and drag \"I am in the kitchen\" piece and attach it to the \"Goal\" piece in the programming interface.</li></ol> Click <b>Next</b> to proceed","<ol start=2><li>Next, we need to specify the action. Click on the \"Actions\" tab and drag the \"Go to kitchen\" piece and attach it to \"Actions\" on the programming interface. </li> <li>Finally, we need to give the robot all of the relevant states it needs to achieve goal of going to the kitchen. </li> <li>Click on the \"States\" tab and drag the \"Am I in the kitchen?\" piece and attach it to \"States\" on the programming interface.</li> </ol> Click <b>Next</b> to proceed", "If your program looks like the image on the right,<br> then press the \"Run Program\" button to see your program running. <br> Otherwise, move the blocks around to make them match the image and then run the program. <br><br>If the robot remains inactive after you click \"run program,\" double check that your program is correct. Click \"Stop Program\" to make any needed changes and then rerun the program. <br> Click <b>Next</b> to proceed", "Now let's work on a second task. In this task you will program the robot to move the toy from the playroom to the kitchen. <br> Click <b>Next</b> to proceed", "To do this, <ol> <li>First remove the \"Am I in the kitchen?\", \"Go to kitchen\", \"I am in the kitchen.\" pieces added to the \"State\", \"Action\", and \"Goal\" block by dragging them to the trash bin found on the bottom right corner.</li></ol> Click <b>Next</b> to proceed","<ol start=2><li>First, we specify the goal. The robot can only know it has achieved the goal by sensing the environment. For the current task, the goal can be stated as the robot seeing the toy in the kitchen. To specify this, drag the \"and\" piece from the Goal tab and attach it to the Goal piece. Then drag \"Am I in the kitchen?\" piece from the Goal tab and attach it to one of the empty spaces in the \"and\" piece. Then, drag \"a toy is in the room\" piece and attach it to the remaining space of the \"and\" piece </li></ol> Click <b>Next</b> to proceed", "<ol start=3><li>To successfully perform the task, the robot needs to have a set of actions: going to the kitchen, going to the playroom, picking up the toy, and putting down the toy. These are the set of actions the robot needs to perform to pick up the toy from the playroom and put it down in the kitchen. Therefore, drag the \"Go to kitchen\" from the actions tab and attach it to the actions block. Add the \"Go to playroom\", \"pick up the toy\", and \"put down the toy\" to the actions block below the previous piece. Note that the \"Go to playroom\" piece is the same as the \"Go to kitchen\" piece. Just click on the downward pointing triangle to change the room name. </li></ol> Click <b>Next</b> to proceed", "<ol start=4><li>Next, let's specify the states the robot could be in while trying to complete the task. These states are being in the kitchen, being in the playroom, seeing a toy in a room, and holding the toy. These are the relevant set of states the robot needs towards getting to the goal. Drag the pieces that represent each state (\"Am I in the kitchen?\", \"Am I in the playroom?\", \"Are my hands free?\", and \"Is there a toy in the current room\") from the States tab and attach them to the states block. Again, you may need to use the downward pointing triangle to change the room name.</li></ol>Click <b>Next</b> to proceed", "If your program looks like the image on the right, then press the \"Run Program\" button to see your program running. Otherwise, move the blocks around to make them match the image and then run the program. <br><br>Note: the order of the pieces in the States and Actions blocks do not matter. <br> Click <b>Next</b> to proceed"
    ];

    var tutorial_texts_MDP = ["The robot is designed to act based on a <b>goal</b> that you specify. The robot tries to find the most effective way to accomplish the task and then executes the determined course of action. <br> Click <b>Next</b> to proceed",
      "Now, let's program the robot to go to the kitchen. To achieve this, we need to specify is the goal. Goals are specific states or combinations of states that we desire the robot to reach or achieve by the end of its execution. States are the different situations or conditions that the robot can be in while performing tasks such as \"I am holding a toy.\", \"I am in the kitchen.\" etc. To do that click on the \"Goal\" tab and drag \"I am in the kitchen\" piece and attach it to the \"Goal\" piece in the programming interface. <br><br>As a side note, you can change the room on the \"I am in the kitchen\" piece by clicking on the downward-pointing triangle and selecting a room name. <br> Click <b>Next</b> to proceed", "If your program looks like the image on the right, then press the \"Run Program\" button to see your program running. <br> Otherwise, move the blocks around to make them match the image and then run the program. <br><br>If the robot remains inactive after you click \"run program,\" double check that your program is correct. Click \"Stop Program\" to make any needed changes and then rerun the program. <br> Click <b>Next</b> to proceed", "Now let's work on a second task. In this task you will program the robot to move the toy from the playroom to the kitchen.<br> Click <b>Next</b> to proceed", "<ol> <li>First remove the \"Am I in the kitchen?\" piece added to the \"Goal\" block by dragging it to the trash bin found on the bottom right corner</li><li>To successfully perform this task, the robot needs a specification of the goal. The robot can only know it has achieved the goal by sensing the environment. For the current task, the goal can be stated as the robot seeing the toy in the kitchen. To specify this, drag the \"and\" piece from the Goal tab and attach it to the Goal piece. Then drag \"I am in the kitchen?\" piece from the Goal tab and attach it to one of the empty spaces in the \"and\" piece. Then, drag \"a toy is in the room\" piece and attach it to the remaining space of the \"and\" piece. </li></ol> Click <b>Next</b> to proceed", "If your program looks like the image on the right, then press the \"Run Program\" button to see your program running. <br> Otherwise, move the blocks around to make them match the image and then run the program. <br> Click <b>Next</b> to proceed"
    ];

    var tutorial_texts_SEQ = ["The robot is designed to follow actions specified by users (e.g., go to the kitchen, pick up a toy).  These sequences of actions are specified in the programming interface by dragging and dropping action blocks and connecting them in a linear sequence. The robot also has sensors which helps it understand where it is and if it is holding objects.  <br><br> Click <b>Next</b> to proceed.", "Now, let's program the robot to move to the kitchen. To achieve this, Click on the \"Actions\" tab and drag \"Go to kitchen\" piece and drop it on the programming interface.  <br><br> Click <b>Next</b> to proceed", "If your program looks like the image on the right, then press the \"Run Program\" button to see your program running. <br> Otherwise, drag the correct piece from the \"Actions\" tab to match the image then run the program. <br><br>If the robot remains inactive after you click \"run program,\" double check that your program is correct. Click \"Stop Program\" to make any needed changes and then rerun the program. <br> Click <b>Next</b> to proceed", "Now let's work on a second task. In this task, your goal is to program the robot to continuously move between the kitchen and the playroom. If you create a program like the one on the right, the robot will initially go to the playroom, then to the kitchen, then back to the playroom, and finally come to a stop. However, this task requires you to program the robot to continually move back and forth between the kitchen and the playroom. While it is possible to include additional \"Go to kitchen\" and \"Go to playroom\" instructions, this would only add one round trip to the back-and-forth movement.  <br><br> Click <b>Next</b> to proceed","<ol><li>First remove the \"Go to kitchen\" piece added to the programming interface by dragging it to the trash bin found on the bottom right corner</li><li>Then drag the \"Go to kitchen\" piece to the programming interface and change the room from <b>kitchen</b> to <b>playroom</b> by clicking on the downward pointing triangle of .</li></ol>  Click <b>Next</b> to proceed", "<ol start=3><li>Then click on the control tab and drag the piece labeled \"repeat while do\" and attach it right below the \"Go to playroom\" piece. Next from the control tab drag the piece labeled \"True\" and attach it right next to while. The \"repeat while do\" block makes sure everything inside it is run as long as the condition you attach next to while is <b>True</b>. Since you just attached True next to while, that means this block is going to be executed forever.</li></ol> Click <b>Next</b> to proceed","<ol start=4><li>Next we will put the actions that the robot needs to repeat inside the \"repeat while do\" block. Click on actions tab and drag the \"Go to kitchen\" piece and attach it inside the \"repeat while do\" block. Again, go to the actions tab and drag \"Go to kitchen\" piece and attach it inside the \"repeat while do\" block right below the previous piece. Now change change kitchen to playroom by choosing from the drop down menu. This block now makes sure the robot goes to the kitchen then to the playroom and repeat.</li></ol> Click <b>Next</b> to proceed", "If your program looks like the image on the right, then press the \"Run Program\" button to see your program running. <br> Otherwise, move the blocks around to make them match the image and then run the program. <br><br> Click <b>Next</b> to proceed", "Now let's work on the final task. In this task you will program the robot to move the toy from the playroom to the kitchen. To do this, <ol><li>First remove all of the pieces added to the programming interface by dragging each one to the trash bin.</li> <li>Then click on the <b>Actions</b> tab and drag the \"Go to kitchen\" piece to the programming interface and change kitchen to playroom</li></ol>Click <b>Next</b> to proceed","<ol start=3><li>Once the robot arrives in the playroom, the robot needs to pick up the toy. Before trying to pick up the toy, we will first make the robot check if there is a toy. This check becomes crucial when the robot doesn't know where the toy is ahead of time. Therefore, it would have to check if a toy is present before it tries to pick up the toy. For that, click on the Controls tab and drag the \"If do\" block and attach it under the \"Go to playroom\" piece. Then drag \"a toy is in the room\" piece from the states tab and attach it to the if. </li></ol>Click <b>Next</b> to proceed","<ol start=4><li>Click on the <b>actions</b> menu and drag the \"Pick up the toy\" piece and attach it next to <b>do</b>. This block instructs the robot to pick up the toy only if it detects there is a toy in the room. </li></ol> Click <b>Next</b> to proceed", "<ol start=3><li>Once the robot picks up the toy, the next step is to take the toy to the kitchen. Drag \"Go to kitchen\" piece and attach it below the \"if do\" block.</li><li>The final step is to put down the toy. For that click on the <b>actions</b> menu and drag the \"put down the toy\" piece and place it below the last piece.</li></ol> <br> Click <b>Next</b> to proceed", "If your program looks like the image on the right,<br> then press the \"Run Program\" button to see your program running. <br> Click <b>Next</b> to proceed"]

    function nextTutorialListener(n){
      if (value=='TAP'){
        final_cnt = tutorial_texts.length;
      }else if(value=='SEQ'){
        final_cnt = tutorial_texts_SEQ.length;
      }else{
        final_cnt = tutorial_texts_RL.length;
      }

      if(Number(n) == 1 & next_ctr > 0){
        next_ctr-=1;
      }else if(Number(n) == 1 & next_ctr <= 0){
        next_ctr = next_ctr;
      }else if(Number(n) == 0 & next_ctr <= final_cnt + 1){
        next_ctr+=1;
      }

      if(img_added){
        document.getElementById("img_div").innerHTML = '';
        img_added = false;
      }

      if(value=="TAP"){
        document.getElementById('tutorial_text').innerHTML = tutorial_texts[next_ctr];

        if(next_ctr == 4){
          var elem = document.createElement("img");
          elem.src = 'tutorial/sol_01.png';
          document.getElementById('img_div').appendChild(elem);
          img_added = true;
        }

        else if(next_ctr == 5){
            document.getElementById("img_div").innerHTML = '';
            document.getElementById('bear').style.visibility = 'visible';
        }

        else if(next_ctr == 10){
            var elem = document.createElement("img");
            elem.src = 'tutorial/sol_02.png';
            document.getElementById('img_div').appendChild(elem);
            img_added = true;
        }

        if (next_ctr >= tutorial_texts.length){
            document.getElementById("img_div").innerHTML = '';
            document.getElementById('doneButton').style.visibility = 'visible';
            document.getElementById('tutorial_text').innerHTML = "Congratulations on completing the tutorial! Now click on the <b>I'm done</b> button";
          }else{
            document.getElementById('doneButton').style.visibility = 'hidden';
          }
      }
      else if(value=='RL'){
        if(next_ctr < 2){
          document.getElementById('tutorial_text').innerHTML = tutorial_texts[next_ctr];
          document.getElementById("img_div").innerHTML = '';
        }else{
          document.getElementById('tutorial_text').innerHTML = tutorial_texts_RL[next_ctr-2];
        }
        if(next_ctr == 5){
          var elem = document.createElement("img");
          elem.src = 'tutorial/sol_05.png';
          document.getElementById('img_div').appendChild(elem);
          img_added = true;
        }
        else if(next_ctr == 6){
            document.getElementById("img_div").innerHTML = '';
            document.getElementById('bear').style.visibility = 'visible';
        }else if(next_ctr == 11){
            var elem = document.createElement("img");
            elem.src = 'tutorial/sol_06.png';
            document.getElementById('img_div').appendChild(elem);
            img_added = true;
        }

        if (next_ctr - 2 >= tutorial_texts_RL.length){
            document.getElementById("img_div").innerHTML = '';
            document.getElementById('doneButton').style.visibility = 'visible';
            document.getElementById('tutorial_text').innerHTML = "Congratulations on completing the tutorial! Now click on the <b>I'm done</b> button";
       } else{
            document.getElementById('doneButton').style.visibility = 'hidden';
          }
        
      }
      else if(value=='MDP'){
        if(next_ctr < 2){
          document.getElementById('tutorial_text').innerHTML = tutorial_texts[next_ctr];
        }else{
          document.getElementById('tutorial_text').innerHTML = tutorial_texts_MDP[next_ctr-2];
        }
        if(next_ctr == 4){
          var elem = document.createElement("img");
          elem.src = 'tutorial/sol_07.png';
          document.getElementById('img_div').appendChild(elem);
          img_added = true;
        }
        else if(next_ctr == 5){
            document.getElementById("img_div").innerHTML = '';
            document.getElementById('bear').style.visibility = 'visible';
        }else if(next_ctr == 7){
            var elem = document.createElement("img");
            elem.src = 'tutorial/sol_08.png';
            document.getElementById('img_div').appendChild(elem);
            img_added = true;
        }

        if (next_ctr - 2 >= tutorial_texts_MDP.length){
            document.getElementById("img_div").innerHTML = '';
            document.getElementById('doneButton').style.visibility = 'visible';
            document.getElementById('tutorial_text').innerHTML = "Congratulations on completing the tutorial! Now click on the <b>I'm done</b> button";
       }else{
            document.getElementById('doneButton').style.visibility = 'hidden';
          }

     }
      else if (value == 'SEQ'){
         if(next_ctr < 2){
          document.getElementById('tutorial_text').innerHTML = tutorial_texts[next_ctr];
          }else{
            document.getElementById('tutorial_text').innerHTML = tutorial_texts_SEQ[next_ctr-2];
          }

          if(next_ctr == 4){
            document.getElementById("one_time_div").innerHTML = '';
            var elem = document.createElement("img");
            elem.src = 'tutorial/sol_03.png';
            document.getElementById('img_div').appendChild(elem);
            img_added = true;
          }else if(next_ctr == 5){
            document.getElementById("one_time_div").innerHTML = '';
            var elem = document.createElement("img");
            elem.src = 'tutorial/extra_tutorial_00.png';
            document.getElementById('one_time_div').appendChild(elem);
            img_added = true;
          }
          else if(next_ctr == 6){
            document.getElementById("img_div").innerHTML = '';
            document.getElementById("one_time_div").innerHTML = '';
          }
          else if(next_ctr == 9){
            var elem = document.createElement("img");
            elem.src = 'tutorial/extra_seq_sol.png';
            document.getElementById('img_div').appendChild(elem);
            img_added = true;
          }
          else if(next_ctr == 10){
            document.getElementById("img_div").innerHTML = '';
            document.getElementById('bear').style.visibility = 'visible';
          }
          else if(next_ctr == 14){
            var elem = document.createElement("img");
            elem.src = 'tutorial/sol_04.png';
            document.getElementById('img_div').appendChild(elem);
            img_added = true;
          }

          if (next_ctr - 2 >= tutorial_texts_SEQ.length){
            document.getElementById("img_div").innerHTML = '';
            document.getElementById('doneButton').style.visibility = 'visible';
            document.getElementById('tutorial_text').innerHTML = "Congratulations on completing the tutorial! Now click on the <b>I'm done</b> button";
          }else{
            document.getElementById('doneButton').style.visibility = 'hidden';
          }

      }    
    }

  </script>

</body>
</html>
